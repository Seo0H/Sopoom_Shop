<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.sopoom.mappers.Purchase.inventory">

<!-- 주문 번호 중복검사 -->
<select id="orderCodeDuplCheck" parameterType="String" resultType="boolean">
	select if( exists( 
		select* from `order`
		where orderID = #{orderID}), 1, 0)
</select>

<!-- 주문 데이터 저장 -->
<insert id="saveOrder" parameterType="com.sopoom.dto.OrderVO">
	insert into `order`(orderID, userID, totalPrice) 
	values (#{orderID},#{userID},#{totalPrice})
</insert>

<!-- 배송 데이터 저장 -->
<insert id="saveShipping" parameterType="com.sopoom.dto.ShippingVO">
	insert into `shipping`
	values (#{shipID},#{orderID},#{name},#{postcode},#{address},
	#{detailAddress},#{extraAddress},#{telno},#{status},#{username},#{idx})
</insert>

</mapper>